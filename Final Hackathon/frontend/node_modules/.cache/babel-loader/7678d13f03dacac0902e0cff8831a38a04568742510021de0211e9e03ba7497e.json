{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState, useRef } from 'react';\nimport { io } from 'socket.io-client';\nexport const useWebSocket = (url, onMessage) => {\n  _s();\n  const [isConnected, setIsConnected] = useState(false);\n  const socketRef = useRef(null);\n  useEffect(() => {\n    // Create socket connection\n    socketRef.current = io(url, {\n      transports: ['websocket', 'polling'],\n      timeout: 5000\n    });\n    const socket = socketRef.current;\n\n    // Connection event handlers\n    socket.on('connect', () => {\n      console.log('WebSocket connected');\n      setIsConnected(true);\n    });\n    socket.on('disconnect', reason => {\n      console.log('WebSocket disconnected:', reason);\n      setIsConnected(false);\n    });\n    socket.on('connect_error', error => {\n      console.error('WebSocket connection error:', error);\n      setIsConnected(false);\n    });\n\n    // Dashboard update handler\n    socket.on('dashboard-update', data => {\n      console.log('Dashboard update received:', data);\n      if (onMessage) {\n        onMessage(data);\n      }\n    });\n\n    // Cleanup on unmount\n    return () => {\n      if (socket) {\n        socket.disconnect();\n      }\n    };\n  }, [url, onMessage]);\n  const sendMessage = (event, data) => {\n    if (socketRef.current && isConnected) {\n      socketRef.current.emit(event, data);\n    }\n  };\n  return {\n    isConnected,\n    sendMessage\n  };\n};\n_s(useWebSocket, \"dKqSXJnoeWXkGZYCwYfPCTsfw1o=\");","map":{"version":3,"names":["useEffect","useState","useRef","io","useWebSocket","url","onMessage","_s","isConnected","setIsConnected","socketRef","current","transports","timeout","socket","on","console","log","reason","error","data","disconnect","sendMessage","event","emit"],"sources":["D:/Agent Ai/Agentic_AI_Workshop/Final Hackathon/frontend/src/hooks/useWebSocket.js"],"sourcesContent":["import { useEffect, useState, useRef } from 'react';\r\nimport { io } from 'socket.io-client';\r\n\r\nexport const useWebSocket = (url, onMessage) => {\r\n  const [isConnected, setIsConnected] = useState(false);\r\n  const socketRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    // Create socket connection\r\n    socketRef.current = io(url, {\r\n      transports: ['websocket', 'polling'],\r\n      timeout: 5000,\r\n    });\r\n\r\n    const socket = socketRef.current;\r\n\r\n    // Connection event handlers\r\n    socket.on('connect', () => {\r\n      console.log('WebSocket connected');\r\n      setIsConnected(true);\r\n    });\r\n\r\n    socket.on('disconnect', (reason) => {\r\n      console.log('WebSocket disconnected:', reason);\r\n      setIsConnected(false);\r\n    });\r\n\r\n    socket.on('connect_error', (error) => {\r\n      console.error('WebSocket connection error:', error);\r\n      setIsConnected(false);\r\n    });\r\n\r\n    // Dashboard update handler\r\n    socket.on('dashboard-update', (data) => {\r\n      console.log('Dashboard update received:', data);\r\n      if (onMessage) {\r\n        onMessage(data);\r\n      }\r\n    });\r\n\r\n    // Cleanup on unmount\r\n    return () => {\r\n      if (socket) {\r\n        socket.disconnect();\r\n      }\r\n    };\r\n  }, [url, onMessage]);\r\n\r\n  const sendMessage = (event, data) => {\r\n    if (socketRef.current && isConnected) {\r\n      socketRef.current.emit(event, data);\r\n    }\r\n  };\r\n\r\n  return {\r\n    isConnected,\r\n    sendMessage,\r\n  };\r\n};"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AACnD,SAASC,EAAE,QAAQ,kBAAkB;AAErC,OAAO,MAAMC,YAAY,GAAGA,CAACC,GAAG,EAAEC,SAAS,KAAK;EAAAC,EAAA;EAC9C,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGR,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAMS,SAAS,GAAGR,MAAM,CAAC,IAAI,CAAC;EAE9BF,SAAS,CAAC,MAAM;IACd;IACAU,SAAS,CAACC,OAAO,GAAGR,EAAE,CAACE,GAAG,EAAE;MAC1BO,UAAU,EAAE,CAAC,WAAW,EAAE,SAAS,CAAC;MACpCC,OAAO,EAAE;IACX,CAAC,CAAC;IAEF,MAAMC,MAAM,GAAGJ,SAAS,CAACC,OAAO;;IAEhC;IACAG,MAAM,CAACC,EAAE,CAAC,SAAS,EAAE,MAAM;MACzBC,OAAO,CAACC,GAAG,CAAC,qBAAqB,CAAC;MAClCR,cAAc,CAAC,IAAI,CAAC;IACtB,CAAC,CAAC;IAEFK,MAAM,CAACC,EAAE,CAAC,YAAY,EAAGG,MAAM,IAAK;MAClCF,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAEC,MAAM,CAAC;MAC9CT,cAAc,CAAC,KAAK,CAAC;IACvB,CAAC,CAAC;IAEFK,MAAM,CAACC,EAAE,CAAC,eAAe,EAAGI,KAAK,IAAK;MACpCH,OAAO,CAACG,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;MACnDV,cAAc,CAAC,KAAK,CAAC;IACvB,CAAC,CAAC;;IAEF;IACAK,MAAM,CAACC,EAAE,CAAC,kBAAkB,EAAGK,IAAI,IAAK;MACtCJ,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAEG,IAAI,CAAC;MAC/C,IAAId,SAAS,EAAE;QACbA,SAAS,CAACc,IAAI,CAAC;MACjB;IACF,CAAC,CAAC;;IAEF;IACA,OAAO,MAAM;MACX,IAAIN,MAAM,EAAE;QACVA,MAAM,CAACO,UAAU,CAAC,CAAC;MACrB;IACF,CAAC;EACH,CAAC,EAAE,CAAChB,GAAG,EAAEC,SAAS,CAAC,CAAC;EAEpB,MAAMgB,WAAW,GAAGA,CAACC,KAAK,EAAEH,IAAI,KAAK;IACnC,IAAIV,SAAS,CAACC,OAAO,IAAIH,WAAW,EAAE;MACpCE,SAAS,CAACC,OAAO,CAACa,IAAI,CAACD,KAAK,EAAEH,IAAI,CAAC;IACrC;EACF,CAAC;EAED,OAAO;IACLZ,WAAW;IACXc;EACF,CAAC;AACH,CAAC;AAACf,EAAA,CAvDWH,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}